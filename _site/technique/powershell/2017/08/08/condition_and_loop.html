<!DOCTYPE html>
<html lang="en">

  



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/css/cs_style.css">
<link rel="stylesheet" href="/assets/css/post.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>


  <body>

    <div class="container">
  <nav class="navbar navbar-default navbar-toggleable-md navbar-light bg-white">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#containerNavbar" aria-controls="containerNavbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="/">K3Y6REAK</a>

  <div class="collapse navbar-collapse flex-row-reverse" id="containerNavbar">
    <ul class="navbar-nav my-2 my-md-0">
      <li class="nav-item active">
        <a class="nav-link" href="/about.html">About</a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Programming</a>
        <div class="dropdown-menu" aria-labelledby="dropdown04">
          <a class="dropdown-item" href="/programming/c">C</a>
          <a class="dropdown-item" href="/programming/cpp">C++</a>
          <a class="dropdown-item" href="/programming/python">Python</a>
          <a class="dropdown-item" href="/programming/ruby">Ruby</a>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">High Level Technique</a>
        <div class="dropdown-menu" aria-labelledby="dropdown04">
          <a class="dropdown-item" href="/technique/reversing">Reversing</a>
          <a class="dropdown-item" href="/technique/android">Android</a>
          <a class="dropdown-item" href="/technique/system_hacking">System Hacking</a>
          <a class="dropdown-item" href="/technique/powershell">PowerShell</a>
          <a class="dropdown-item" href="/technique/web_hacking">Web Hacking</a>
          <a class="dropdown-item" href="/technique/shellcoding">Shellcoding</a>
          <a class="dropdown-item" href="/technique/windows_system">Windows System</a>
          <a class="dropdown-item" href="/technique/windows_forensic">Windows Forensic</a>
          <a class="dropdown-item" href="/technique/linux_forensic">Linux Forensic</a>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Wargame</a>
        <div class="dropdown-menu" aria-labelledby="dropdown04">
          <a class="dropdown-item" href="/wargame/reversing_kr">reversing.kr</a>
          <a class="dropdown-item" href="/wargame/pwnable_kr">pwnable.kr</a>
          <a class="dropdown-item" href="/wargame/wargame_kr">wargame.kr</a>
        </div>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="/ctfs">CTFs</a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="/misc">MISC</a>
      </li>

    </ul>
  </div>
</nav>
</div>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Condition_and_Loop</h1>
    <p class="post-meta">
      <time datetime="2017-08-08T12:58:00+09:00" itemprop="datePublished">
        
        Aug 8, 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><br /><br /></p>

<p>이번에는 PowerShell에서 사용하는 조건문과 반복문에 대해서 알아보도록 하겠습니다.</p>

<p><br /><br /></p>
<h3 id="조건문">조건문</h3>

<p>다른 언어와 마찬가지로 PowerShell에서 <code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">if~else</code>, <code class="highlighter-rouge">if~elseif~else</code>, <code class="highlighter-rouge">switch</code>를 사용합니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; if (1 -gt 0) {"1 &gt; 0"}
1 &gt; 0
PS C:\Users\k3y6reak&gt; if (1 -gt 5) { "1 &gt; 0" } else{ "1 &lt; 5" }
1 &lt; 5
PS C:\Users\k3y6reak&gt; $num = 2
PS C:\Users\k3y6reak&gt; if ($num -eq 1) { "num is 1" } elseif( $num -eq 2 ) { "num is 2" } else { "i don't know" }
num is 2
PS C:\Users\k3y6reak&gt; $num = 3</code></pre></figure>

<p>위와 같이 다른 언어에서 사용하는 것과 동일하게 PowerShell에서 사용할 수 있습니다.</p>

<p><code class="highlighter-rouge">switch</code> 구문도 동일하게 사용하지만 좀 더 추가된 것이 있습니다. <code class="highlighter-rouge">*</code>를 이용하는 방법인데, 아래 예제를 보겠습니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; switch ($num) {1{"num is 1"} 2{"num is two"} default{"i don't know"}}
i don't know
PS C:\Users\k3y6reak&gt; $str = "abcd"
PS C:\Users\k3y6reak&gt; switch -wildcard ($str) { a*{"a~"} *b*{"~b~"} c*{"c~"}}
a~
~b~</code></pre></figure>

<p><code class="highlighter-rouge">*</code>를 사용해서 switch 구문을 이용할 수 있습니다.</p>

<p><br /><br /></p>
<h3 id="반복문">반복문</h3>

<p>마찬가지로 <code class="highlighter-rouge">while</code>, <code class="highlighter-rouge">do~while</code>, <code class="highlighter-rouge">for</code>를 사용할 수 있으며 추가적으로 <code class="highlighter-rouge">do~until</code>, <code class="highlighter-rouge">foreach</code>를 사용할 수 있습니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; $count = 3
PS C:\Users\k3y6reak&gt; while ( $count -gt 0)
&gt;&gt; {
&gt;&gt; "count is $count"
&gt;&gt; $count--
&gt;&gt; }
count is 3
count is 2
count is 1
PS C:\Users\k3y6reak&gt; $count = 3
PS C:\Users\k3y6reak&gt; do
&gt;&gt; {
&gt;&gt; "count is $count"
&gt;&gt; $count--
&gt;&gt; }
&gt;&gt; while( $count -gt 0)
count is 3
count is 2
count is 1</code></pre></figure>

<p><code class="highlighter-rouge">while</code>, <code class="highlighter-rouge">do~while</code>은 동일하게 실행됩니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; $count = 3
PS C:\Users\k3y6reak&gt; do
&gt;&gt; {
&gt;&gt; "count is $count"
&gt;&gt; $count--
&gt;&gt; }
&gt;&gt; until( $count -gt 0)
count is 3
PS C:\Users\k3y6reak&gt; do
&gt;&gt; {
&gt;&gt; "count is $count"
&gt;&gt; $count--
&gt;&gt; }
&gt;&gt; until( $count -lt 0)
count is 2
count is 1
count is 0</code></pre></figure>

<p><code class="highlighter-rouge">until</code>은 <code class="highlighter-rouge">~때 까지</code>로 처음 실행한 <code class="highlighter-rouge">$count -gt 0</code>의 의미는 <code class="highlighter-rouge">0보다 클 때까지만</code>실행하기 때문에 count는 3이됩니다.</p>

<p><code class="highlighter-rouge">while</code>과 <code class="highlighter-rouge">until</code>은 서로 반대되는 개념이라고 생각하면 됩니다.</p>

<p>for문 또한 동일하게 사용할 수 있습니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; for ($i = 0; $i -lt 10; $i++)
&gt;&gt; {
&gt;&gt; "i is $i"
&gt;&gt; }
i is 0
i is 1
i is 2
i is 3
i is 4
i is 5
i is 6
i is 7
i is 8
i is 9</code></pre></figure>

<p><code class="highlighter-rouge">foreach</code> 구문은 python 에서 for문과 동일합니다. java에도 foreach구문이 있죠.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; $arr = "Hello World!"
PS C:\Users\k3y6reak&gt; foreach ($str in $arr)
&gt;&gt; {
&gt;&gt; $str
&gt;&gt; }
Hello World!
PS C:\Users\k3y6reak&gt; $arr = 1,2,3,4,5
PS C:\Users\k3y6reak&gt; foreach($num in $arr)
&gt;&gt; {
&gt;&gt; $num
&gt;&gt; }
1
2
3
4
5</code></pre></figure>

<p>위 예제를 보면 문자열인 경우 각 인덱스별로 값을 출력하는 것이 아니라 한 번에 출력하는 것을 알 수 있습니다.</p>

<p>이 외에도 ForEach-Object와 Where-Object가 있습니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; Get-Process | ForEach-Object {$_.Name}
acrotray
ApplicationFrameHost
armsvc
coherence
coherence
coherence
conhost
csrss
csrss
dasHost
dllhost
dwm
explorer
fontdrvhost
fontdrvhost
Idle
IpOverUsbSvc
lsass
Memory Compression
MSASCuiL
msdtc
MsMpEng
NisSrv
OneDrive
powershell</code></pre></figure>

<p>Get-Process를 이용해 얻은 값을 ForEach-Object를 통해서 <code class="highlighter-rouge">_.</code>에 넣어준 후 <code class="highlighter-rouge">Name</code>만 출력해주는 방법입니다.</p>

<figure class="highlight"><pre><code class="language-ps" data-lang="ps">PS C:\Users\k3y6reak&gt; Get-ChildItem C:\Users\k3y6reak\Desktop | Where-Object {$_.Name -match "exe"}


    디렉터리: C:\Users\k3y6reak\Desktop


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-a----    2017. 8. 2.  오전 12:35        1368442 asby.exe</code></pre></figure>

<p>Where-Object를 이용해 <code class="highlighter-rouge">grep</code> 처럼 사용할 수 있습니다.</p>

  </div>

  
</article>

      </div>
    </main>

    



<div class="container">
	<hr>
	<section class="float-left">
		&copy; 2017. SAHONG PAK all rights reserved.
	</section>
	<section class="float-right">
		<a href="http://blog.rebforpwn.com">
			<img src="/assets/img/rebforpwn.png" alt="RebForPwn" height="32" width="100">
		</a>

		<a href="http://">
		<img src="/assets/img/github.svg" alt="github" height="32" width="32">
		</a>

		<a href="mailto:k3y6reak@naver.com">
		<img src="/assets/img/mail.svg" alt="mail" height="32" width="32">
		</a>
	</section>
</div>

  </body>

</html>
